# Список ненормативной лексики и бранных слов для фильтрации

PROFANITY_WORDS = [
    # Русская ненормативная лексика
    'блять', 'блядь', 'бля', 'бляд', 'блят', 'блядство', 'блядина', 'бляди',
    'хуй', 'хуйня', 'хуево', 'хуевый', 'хуйло', 'хуя', 'хуе', 'хуё',
    'пизда', 'пиздец', 'пизд', 'пиздюк', 'пиздюля', 'пиздатый',
    'ебан', 'ебать', 'ебало', 'ебанутый', 'ебаный', 'ебля', 'ебут', 'ебу', 'ебё', 'ебаш', 'ебат',
    'сука', 'суки', 'сучара', 'сучий',
    'мудак', 'мудила', 'мудень', 'муда',
    'гандон', 'гондон',
    'пидор', 'пидорас', 'пидарас', 'пидорок',
    'гомик', 'гомосек',
    'шлюха', 'шлюшка',
    'еблан', 'ебла', 'залупа', 'залуп', 'ебануть', 'ебанул',
    'выеб', 'выебать', 'уеб', 'уебать', 'долбоеб', 'долбоёб',
    'ебанько', 'ебло', 'ебучка',

    # Английская ненормативная лексика
    'fuck', 'fucking', 'fucked', 'fucker', 'fuckers',
    'shit', 'shitting', 'shitted', 'shitter',
    'bitch', 'bitches', 'bitching',
    'asshole', 'ass', 'asses',
    'damn', 'damned', 'crap', 'crappy',
    'piss', 'pissing', 'pissed',
    'dick', 'dicks', 'dickhead', 'cock', 'cocks', 'cockhead',
    'pussy', 'pussies', 'bastard', 'bastards',
    'whore', 'whores', 'slut', 'sluts', 'cunt', 'cunts',
    'motherfucker', 'motherfuckers',
]


def check_profanity(text: str) -> bool:
    """
    Проверяет текст на наличие ненормативной лексики.
    Возвращает True, если найдены запрещенные слова.

    Использует проверку только целых слов, чтобы избежать ложных срабатываний
    на обычных словах типа "делаешь", "дела" и т.д.
    """
    if not text:
        return False

    import re

    # Приводим текст к нижнему регистру
    text_lower = text.lower()

    # Создаем set для быстрого поиска
    profanity_set = set(PROFANITY_WORDS)

    # Заменяем все знаки препинания и специальные символы на пробелы
    # Это позволяет корректно разделять слова (используем явный паттерн для кириллицы и латиницы)
    text_normalized = re.sub(r'[^а-яёa-z0-9\s]', ' ', text_lower)

    # Разделяем на слова по пробелам и фильтруем пустые строки
    words = [word for word in text_normalized.split() if word]

    # Проверяем только точные совпадения целых слов
    # Это гарантирует, что подстроки внутри обычных слов не будут заблокированы
    for word in words:
        if word in profanity_set:
            return True

    return False


# Тестирование функции
if __name__ == "__main__":
    # Тесты на ложные срабатывания
    test_cases = [
        ("что делаешь?", False),
        ("как дела?", False),
        ("что ты делаешь сейчас?", False),
        ("какие дела?", False),
        ("делаем проект", False),
        # Тесты на реальную ненормативную лексику
        ("блять что делаешь", True),
        ("как дела блядь", True),
        ("ебать", True),
        ("сука", True),
    ]

    print("Тестирование функции check_profanity:")
    for text, expected in test_cases:
        result = check_profanity(text)
        status = "✓" if result == expected else "✗"
        print(f"{status} '{text}' -> {result} (ожидалось {expected})")